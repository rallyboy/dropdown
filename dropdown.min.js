function dropdown(){function c(){if(!$(".ddown").is(":visible"))return!1;clearInterval(d);var a="."+$(".ddown:visible").parent().attr("class").match(/(^|\s)(dd\d+)($|\s)/)[2];$(".ddown").hide();$(a).find("dt").css("background",$(a).attr("bg"));return!1}function f(){if(!$(".ddown").is(":visible"))return!1;d=setTimeout(function(){c()},800)}var d;$("select.dd").each(function(){var a=$(this);if(a.parent().hasClass("dd"))return!1;var b="dd"+Math.round(999*Math.random()),e="."+b,d=a.width(),c=$(a).attr("id");a.after("<div style='cursor:pointer' bg='"+a.css("background-color")+"' class='dd "+b+"'/>");"undefined"!=typeof c&&(a.attr("data-id",c).removeAttr("id"),$(e).attr("id",c));a.hide();$('<dt><span class="ddtxt">'+a.val()+'</span><span class="ddarrow" style="width:0;height:0;border:8px solid transparent;float:right;position:absolute;right:15px;top:50%"></span></dt>').appendTo(e);$(e).css("max-width",1.5*d);a.appendTo(e);$("<div class='ddown' style='display:none;position:absolute;z-index:9999;' />").appendTo(e);$(e+" option").each(function(){var a=$(this).val();$(e+" .ddown").append("<li style='list-style:none'>"+a+"</li>")})});$(".ddown").hover(function(){clearInterval(d)},function(){clearInterval(d);f()});$(".dd").on("click",function(a){var b="."+$(this).attr("class").match(/(^|\s)(dd\d+)($|\s)/)[2];clearInterval(d);a.stopPropagation();if($(b+" .ddown").is(":visible"))return $(b+" .ddown").hide(),$(b).find("dt").css("background",$(b).attr("bg")),!1;$(".ddown").is(":visible")&&$(".ddown").hide();a=$(b+" dt").text();$(b+" .ddactive").removeClass("ddactive");$(b+" .ddown").css("width",$(b).width()).show().find("li:contains('"+a+"')").addClass("ddactive")});$(".ddown li").on("click",function(a){a="."+$(this).parent().parent().attr("class").match(/(^|\s)(dd\d+)($|\s)/)[2];var b=$(this).text();$(a+" .ddtxt").text(b);$(a+" select").val(b);c();return!1});$(document).click(function(){if($(".ddown").is(":visible"))return c(),!1})}dropdown();